
type Location
{
  lat: Float!
  lon: Float!
}

input LocationInput
{
  lat: Float!
  lon: Float!
}

enum IncidentType
{
  FLOOD
}

type Incident
  @model
  @searchable
  @auth(rules: [
    {allow: owner}
  ])
{
  id: ID!
  location: Location!
  incidentType: IncidentType!
}

type IncidentConnection {
  items: [Incident]
  total: Int
  nextToken: String
}

type Query
{
  nearbyIncidents(location: LocationInput!, km: Int): IncidentConnection
}
